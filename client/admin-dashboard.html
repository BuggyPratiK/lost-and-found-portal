<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <script src="api.js" defer></script>
    <script src="script.js" defer></script>
</head>
<body>
    <!-- 
      This is an "Auth Guard". It's a small script that runs instantly.
      It checks if an 'authToken' exists in the browser's local storage.
      If it doesn't, it means the user isn't logged in, and it redirects
      them to the login page before they can see any of the dashboard content.
    -->
    <script>
        if (!localStorage.getItem('authToken')) {
            window.location.href = 'admin-login.html';
        }
    </script>

    <div class="page">
        <div style="width: 100%; max-width: 800px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h1>Admin Dashboard</h1>
            <button id="logout-btn" class="btn" style="background-color: #ff4b2b;">Logout</button>
        </div>
        <form id="add-item-form" class="card">
            <h2>Add Lost Item</h2>
            <input type="text" id="description" name="description" class="input" placeholder="Item Description" required>
            <input type="text" id="foundLocation" name="foundLocation" class="input" placeholder="Where it was found" required>
            <input type="text" id="collectionLocation" name="collectionLocation" class="input" placeholder="Collection Point" required>
            
            <label for="itemImage" style="margin-top: 10px; font-weight: 500; text-align: left; width: 100%;">Item Image:</label>
            <input type="file" id="itemImage" name="itemImage" class="input" accept="image/*" required>

            <button type="submit" class="btn">Add Item</button>
        </form>

        <h2>Current Lost Items</h2>
        <div id="lost-items-grid" class="grid">
            <!-- Items from the database will be dynamically inserted here by script.js -->
        </div>
    </div>
</body>
</html>
